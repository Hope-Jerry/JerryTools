import{g as ue,a as C}from"../@kangc/@kangc.04ce81f8.js";import{r as fn}from"../fast-deep-equal/fast-deep-equal.bb94c652.js";import{r as Ja}from"../uri-js/uri-js.225b1608.js";function I(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Gr={exports:{}},Ft={},de={},Pe={},Ut={},zt={},Lt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((g,N)=>`${g}${N}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((g,N)=>(N instanceof r&&(g[N.str]=(g[N.str]||0)+1),g),{})}}e._Code=n,e.nil=new n("");function a(c,...v){const g=[c[0]];let N=0;for(;N<v.length;)f(g,v[N]),g.push(c[++N]);return new n(g)}e._=a;const o=new n("+");function l(c,...v){const g=[S(c[0])];let N=0;for(;N<v.length;)g.push(o),f(g,v[N]),g.push(o,S(c[++N]));return h(g),new n(g)}e.str=l;function f(c,v){v instanceof n?c.push(...v._items):v instanceof r?c.push(v):c.push(m(v))}e.addCodeArg=f;function h(c){let v=1;for(;v<c.length-1;){if(c[v]===o){const g=u(c[v-1],c[v+1]);if(g!==void 0){c.splice(v-1,3,g);continue}c[v++]="+"}v++}}function u(c,v){if(v==='""')return c;if(c==='""')return v;if(typeof c=="string")return v instanceof r||c[c.length-1]!=='"'?void 0:typeof v!="string"?`${c.slice(0,-1)}${v}"`:v[0]==='"'?c.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(c instanceof r))return`"${c}${v.slice(1)}`}function d(c,v){return v.emptyStr()?c:c.emptyStr()?v:l`${c}${v}`}e.strConcat=d;function m(c){return typeof c=="number"||typeof c=="boolean"||c===null?c:S(Array.isArray(c)?c.join(","):c)}function k(c){return new n(S(c))}e.stringify=k;function S(c){return JSON.stringify(c).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=S;function w(c){return typeof c=="string"&&e.IDENTIFIER.test(c)?new n(`.${c}`):a`[${c}]`}e.getProperty=w;function E(c){if(typeof c=="string"&&e.IDENTIFIER.test(c))return new n(`${c}`);throw new Error(`CodeGen: invalid export name: ${c}, use explicit $id name mapping`)}e.getEsmExportName=E;function $(c){return new n(c.toString())}e.regexpCode=$})(Lt);const Ha=ue(Lt),Ba=I({__proto__:null,default:Ha},[Lt]),nt=C(Ba);var Gt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=nt;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(h){h[h.Started=0]="Started",h[h.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:d}={}){this._names={},this._prefixes=u,this._parent=d}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const d=this._names[u]||this._nameGroup(u);return`${u}${d.index++}`}_nameGroup(u){var d,m;if(!((m=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||m===void 0)&&m.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class o extends t.Name{constructor(u,d){super(d),this.prefix=u}setValue(u,{property:d,itemIndex:m}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(d)}[${m}]`}}e.ValueScopeName=o;const l=(0,t._)`\n`;class f extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?l:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,d){var m;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(u),{prefix:S}=k,w=(m=d.key)!==null&&m!==void 0?m:d.ref;let E=this._values[S];if(E){const v=E.get(w);if(v)return v}else E=this._values[S]=new Map;E.set(w,k);const $=this._scope[S]||(this._scope[S]=[]),c=$.length;return $[c]=d.ref,k.setValue(d,{property:S,itemIndex:c}),k}getValue(u,d){const m=this._values[u];if(m)return m.get(d)}scopeRefs(u,d=this._values){return this._reduceValues(d,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,t._)`${u}${m.scopePath}`})}scopeCode(u=this._values,d,m){return this._reduceValues(u,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},d,m)}_reduceValues(u,d,m={},k){let S=t.nil;for(const w in u){const E=u[w];if(!E)continue;const $=m[w]=m[w]||new Map;E.forEach(c=>{if($.has(c))return;$.set(c,n.Started);let v=d(c);if(v){const g=this.opts.es5?e.varKinds.var:e.varKinds.const;S=(0,t._)`${S}${g} ${c} = ${v};${this.opts._n}`}else if(v=k?.(c))S=(0,t._)`${S}${v}${this.opts._n}`;else throw new r(c);$.set(c,n.Completed)})}return S}}e.ValueScope=f})(Gt);const Wa=ue(Gt),Qa=I({__proto__:null,default:Wa},[Gt]),Jr=C(Qa);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=nt,r=Jr;var n=nt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Jr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(s,i){return this}}class l extends o{constructor(s,i,P){super(),this.varKind=s,this.name=i,this.rhs=P}render({es5:s,_n:i}){const P=s?r.varKinds.var:this.varKind,A=this.rhs===void 0?"":` = ${this.rhs}`;return`${P} ${this.name}${A};`+i}optimizeNames(s,i){if(s[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,s,i)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class f extends o{constructor(s,i,P){super(),this.lhs=s,this.rhs=i,this.sideEffects=P}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,i){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,s,i),this}get names(){const s=this.lhs instanceof t.Name?{}:{...this.lhs.names};return pe(s,this.rhs)}}class h extends f{constructor(s,i,P,A){super(s,P,A),this.op=i}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class u extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class d extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class m extends o{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class k extends o{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,i){return this.code=re(this.code,s,i),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class S extends o{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((i,P)=>i+P.render(s),"")}optimizeNodes(){const{nodes:s}=this;let i=s.length;for(;i--;){const P=s[i].optimizeNodes();Array.isArray(P)?s.splice(i,1,...P):P?s[i]=P:s.splice(i,1)}return s.length>0?this:void 0}optimizeNames(s,i){const{nodes:P}=this;let A=P.length;for(;A--;){const D=P[A];D.optimizeNames(s,i)||(Ie(s,D.names),P.splice(A,1))}return P.length>0?this:void 0}get names(){return this.nodes.reduce((s,i)=>H(s,i.names),{})}}class w extends S{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class E extends S{}class $ extends w{}$.kind="else";class c extends w{constructor(s,i){super(i),this.condition=s}render(s){let i=`if(${this.condition})`+super.render(s);return this.else&&(i+="else "+this.else.render(s)),i}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let i=this.else;if(i){const P=i.optimizeNodes();i=this.else=Array.isArray(P)?new $(P):P}if(i)return s===!1?i instanceof c?i:i.nodes:this.nodes.length?this:new c(He(s),i instanceof c?[i]:i.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,i){var P;if(this.else=(P=this.else)===null||P===void 0?void 0:P.optimizeNames(s,i),!!(super.optimizeNames(s,i)||this.else))return this.condition=re(this.condition,s,i),this}get names(){const s=super.names;return pe(s,this.condition),this.else&&H(s,this.else.names),s}}c.kind="if";class v extends w{}v.kind="for";class g extends v{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,i){if(super.optimizeNames(s,i))return this.iteration=re(this.iteration,s,i),this}get names(){return H(super.names,this.iteration.names)}}class N extends v{constructor(s,i,P,A){super(),this.varKind=s,this.name=i,this.from=P,this.to=A}render(s){const i=s.es5?r.varKinds.var:this.varKind,{name:P,from:A,to:D}=this;return`for(${i} ${P}=${A}; ${P}<${D}; ${P}++)`+super.render(s)}get names(){const s=pe(super.names,this.from);return pe(s,this.to)}}class T extends v{constructor(s,i,P,A){super(),this.loop=s,this.varKind=i,this.name=P,this.iterable=A}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,i){if(super.optimizeNames(s,i))return this.iterable=re(this.iterable,s,i),this}get names(){return H(super.names,this.iterable.names)}}class _ extends w{constructor(s,i,P){super(),this.name=s,this.args=i,this.async=P}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}_.kind="func";class b extends S{render(s){return"return "+super.render(s)}}b.kind="return";class j extends w{render(s){let i="try"+super.render(s);return this.catch&&(i+=this.catch.render(s)),this.finally&&(i+=this.finally.render(s)),i}optimizeNodes(){var s,i;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(i=this.finally)===null||i===void 0||i.optimizeNodes(),this}optimizeNames(s,i){var P,A;return super.optimizeNames(s,i),(P=this.catch)===null||P===void 0||P.optimizeNames(s,i),(A=this.finally)===null||A===void 0||A.optimizeNames(s,i),this}get names(){const s=super.names;return this.catch&&H(s,this.catch.names),this.finally&&H(s,this.finally.names),s}}class V extends w{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}V.kind="catch";class F extends w{render(s){return"finally"+super.render(s)}}F.kind="finally";class W{constructor(s,i={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...i,_n:i.lines?`
`:""},this._extScope=s,this._scope=new r.Scope({parent:s}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,i){const P=this._extScope.value(s,i);return(this._values[P.prefix]||(this._values[P.prefix]=new Set)).add(P),P}getScopeValue(s,i){return this._extScope.getValue(s,i)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,i,P,A){const D=this._scope.toName(i);return P!==void 0&&A&&(this._constants[D.str]=P),this._leafNode(new l(s,D,P)),D}const(s,i,P){return this._def(r.varKinds.const,s,i,P)}let(s,i,P){return this._def(r.varKinds.let,s,i,P)}var(s,i,P){return this._def(r.varKinds.var,s,i,P)}assign(s,i,P){return this._leafNode(new f(s,i,P))}add(s,i){return this._leafNode(new h(s,e.operators.ADD,i))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new k(s)),this}object(...s){const i=["{"];for(const[P,A]of s)i.length>1&&i.push(","),i.push(P),(P!==A||this.opts.es5)&&(i.push(":"),(0,t.addCodeArg)(i,A));return i.push("}"),new t._Code(i)}if(s,i,P){if(this._blockNode(new c(s)),i&&P)this.code(i).else().code(P).endIf();else if(i)this.code(i).endIf();else if(P)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new c(s))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(c,$)}_for(s,i){return this._blockNode(s),i&&this.code(i).endFor(),this}for(s,i){return this._for(new g(s),i)}forRange(s,i,P,A,D=this.opts.es5?r.varKinds.var:r.varKinds.let){const L=this._scope.toName(s);return this._for(new N(D,L,i,P),()=>A(L))}forOf(s,i,P,A=r.varKinds.const){const D=this._scope.toName(s);if(this.opts.es5){const L=i instanceof t.Name?i:this.var("_arr",i);return this.forRange("_i",0,(0,t._)`${L}.length`,z=>{this.var(D,(0,t._)`${L}[${z}]`),P(D)})}return this._for(new T("of",A,D,i),()=>P(D))}forIn(s,i,P,A=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${i})`,P);const D=this._scope.toName(s);return this._for(new T("in",A,D,i),()=>P(D))}endFor(){return this._endBlockNode(v)}label(s){return this._leafNode(new u(s))}break(s){return this._leafNode(new d(s))}return(s){const i=new b;if(this._blockNode(i),this.code(s),i.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(s,i,P){if(!i&&!P)throw new Error('CodeGen: "try" without "catch" and "finally"');const A=new j;if(this._blockNode(A),this.code(s),i){const D=this.name("e");this._currNode=A.catch=new V(D),i(D)}return P&&(this._currNode=A.finally=new F,this.code(P)),this._endBlockNode(V,F)}throw(s){return this._leafNode(new m(s))}block(s,i){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(i),this}endBlock(s){const i=this._blockStarts.pop();if(i===void 0)throw new Error("CodeGen: not in self-balancing block");const P=this._nodes.length-i;if(P<0||s!==void 0&&P!==s)throw new Error(`CodeGen: wrong number of nodes: ${P} vs ${s} expected`);return this._nodes.length=i,this}func(s,i=t.nil,P,A){return this._blockNode(new _(s,i,P)),A&&this.code(A).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,i){const P=this._currNode;if(P instanceof s||i&&P instanceof i)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${i?`${s.kind}/${i.kind}`:s.kind}"`)}_elseNode(s){const i=this._currNode;if(!(i instanceof c))throw new Error('CodeGen: "else" without "if"');return this._currNode=i.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const i=this._nodes;i[i.length-1]=s}}e.CodeGen=W;function H(y,s){for(const i in s)y[i]=(y[i]||0)+(s[i]||0);return y}function pe(y,s){return s instanceof t._CodeOrName?H(y,s.names):y}function re(y,s,i){if(y instanceof t.Name)return P(y);if(!A(y))return y;return new t._Code(y._items.reduce((D,L)=>(L instanceof t.Name&&(L=P(L)),L instanceof t._Code?D.push(...L._items):D.push(L),D),[]));function P(D){const L=i[D.str];return L===void 0||s[D.str]!==1?D:(delete s[D.str],L)}function A(D){return D instanceof t._Code&&D._items.some(L=>L instanceof t.Name&&s[L.str]===1&&i[L.str]!==void 0)}}function Ie(y,s){for(const i in s)y[i]=(y[i]||0)-(s[i]||0)}function He(y){return typeof y=="boolean"||typeof y=="number"||y===null?!y:(0,t._)`!${O(y)}`}e.not=He;const pt=p(e.operators.AND);function $t(...y){return y.reduce(pt)}e.and=$t;const Be=p(e.operators.OR);function R(...y){return y.reduce(Be)}e.or=R;function p(y){return(s,i)=>s===t.nil?i:i===t.nil?s:(0,t._)`${O(s)} ${y} ${O(i)}`}function O(y){return y instanceof t.Name?y:(0,t._)`(${y})`}})(zt);const Xa=ue(zt),Ya=I({__proto__:null,default:Xa},[zt]),K=C(Ya);var Jt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=K,r=nt;function n(_){const b={};for(const j of _)b[j]=!0;return b}e.toHash=n;function a(_,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(o(_,b),!l(b,_.self.RULES.all))}e.alwaysValidSchema=a;function o(_,b=_.schema){const{opts:j,self:V}=_;if(!j.strictSchema||typeof b=="boolean")return;const F=V.RULES.keywords;for(const W in b)F[W]||T(_,`unknown keyword: "${W}"`)}e.checkUnknownRules=o;function l(_,b){if(typeof _=="boolean")return!_;for(const j in _)if(b[j])return!0;return!1}e.schemaHasRules=l;function f(_,b){if(typeof _=="boolean")return!_;for(const j in _)if(j!=="$ref"&&b.all[j])return!0;return!1}e.schemaHasRulesButRef=f;function h({topSchemaRef:_,schemaPath:b},j,V,F){if(!F){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,t._)`${j}`}return(0,t._)`${_}${b}${(0,t.getProperty)(V)}`}e.schemaRefOrVal=h;function u(_){return k(decodeURIComponent(_))}e.unescapeFragment=u;function d(_){return encodeURIComponent(m(_))}e.escapeFragment=d;function m(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=m;function k(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=k;function S(_,b){if(Array.isArray(_))for(const j of _)b(j);else b(_)}e.eachItem=S;function w({mergeNames:_,mergeToName:b,mergeValues:j,resultToName:V}){return(F,W,H,pe)=>{const re=H===void 0?W:H instanceof t.Name?(W instanceof t.Name?_(F,W,H):b(F,W,H),H):W instanceof t.Name?(b(F,H,W),W):j(W,H);return pe===t.Name&&!(re instanceof t.Name)?V(F,re):re}}e.mergeEvaluated={props:w({mergeNames:(_,b,j)=>_.if((0,t._)`${j} !== true && ${b} !== undefined`,()=>{_.if((0,t._)`${b} === true`,()=>_.assign(j,!0),()=>_.assign(j,(0,t._)`${j} || {}`).code((0,t._)`Object.assign(${j}, ${b})`))}),mergeToName:(_,b,j)=>_.if((0,t._)`${j} !== true`,()=>{b===!0?_.assign(j,!0):(_.assign(j,(0,t._)`${j} || {}`),$(_,j,b))}),mergeValues:(_,b)=>_===!0?!0:{..._,...b},resultToName:E}),items:w({mergeNames:(_,b,j)=>_.if((0,t._)`${j} !== true && ${b} !== undefined`,()=>_.assign(j,(0,t._)`${b} === true ? true : ${j} > ${b} ? ${j} : ${b}`)),mergeToName:(_,b,j)=>_.if((0,t._)`${j} !== true`,()=>_.assign(j,b===!0?!0:(0,t._)`${j} > ${b} ? ${j} : ${b}`)),mergeValues:(_,b)=>_===!0?!0:Math.max(_,b),resultToName:(_,b)=>_.var("items",b)})};function E(_,b){if(b===!0)return _.var("props",!0);const j=_.var("props",(0,t._)`{}`);return b!==void 0&&$(_,j,b),j}e.evaluatedPropsToName=E;function $(_,b,j){Object.keys(j).forEach(V=>_.assign((0,t._)`${b}${(0,t.getProperty)(V)}`,!0))}e.setEvaluated=$;const c={};function v(_,b){return _.scopeValue("func",{ref:b,code:c[b.code]||(c[b.code]=new r._Code(b.code))})}e.useFunc=v;var g;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(g=e.Type||(e.Type={}));function N(_,b,j){if(_ instanceof t.Name){const V=b===g.Num;return j?V?(0,t._)`"[" + ${_} + "]"`:(0,t._)`"['" + ${_} + "']"`:V?(0,t._)`"/" + ${_}`:(0,t._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,t.getProperty)(_).toString():"/"+m(_)}e.getErrorPath=N;function T(_,b,j=_.opts.strictSchema){if(j){if(b=`strict mode: ${b}`,j===!0)throw new Error(b);_.self.logger.warn(b)}}e.checkStrictMode=T})(Jt);const Za=ue(Jt),xa=I({__proto__:null,default:Za},[Jt]),U=C(xa);var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});const Y=K,es={data:new Y.Name("data"),valCxt:new Y.Name("valCxt"),instancePath:new Y.Name("instancePath"),parentData:new Y.Name("parentData"),parentDataProperty:new Y.Name("parentDataProperty"),rootData:new Y.Name("rootData"),dynamicAnchors:new Y.Name("dynamicAnchors"),vErrors:new Y.Name("vErrors"),errors:new Y.Name("errors"),this:new Y.Name("this"),self:new Y.Name("self"),scope:new Y.Name("scope"),json:new Y.Name("json"),jsonPos:new Y.Name("jsonPos"),jsonLen:new Y.Name("jsonLen"),jsonPart:new Y.Name("jsonPart")};var ts=Ht.default=es;const rs=I({__proto__:null,default:ts},[Ht]),ve=C(rs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=K,r=U,n=ve;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:c})=>c?(0,t.str)`"${$}" keyword must be ${c} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function a($,c=e.keywordError,v,g){const{it:N}=$,{gen:T,compositeRule:_,allErrors:b}=N,j=m($,c,v);g??(_||b)?h(T,j):u(N,(0,t._)`[${j}]`)}e.reportError=a;function o($,c=e.keywordError,v){const{it:g}=$,{gen:N,compositeRule:T,allErrors:_}=g,b=m($,c,v);h(N,b),T||_||u(g,n.default.vErrors)}e.reportExtraError=o;function l($,c){$.assign(n.default.errors,c),$.if((0,t._)`${n.default.vErrors} !== null`,()=>$.if(c,()=>$.assign((0,t._)`${n.default.vErrors}.length`,c),()=>$.assign(n.default.vErrors,null)))}e.resetErrorsCount=l;function f({gen:$,keyword:c,schemaValue:v,data:g,errsCount:N,it:T}){if(N===void 0)throw new Error("ajv implementation error");const _=$.name("err");$.forRange("i",N,n.default.errors,b=>{$.const(_,(0,t._)`${n.default.vErrors}[${b}]`),$.if((0,t._)`${_}.instancePath === undefined`,()=>$.assign((0,t._)`${_}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),$.assign((0,t._)`${_}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${c}`),T.opts.verbose&&($.assign((0,t._)`${_}.schema`,v),$.assign((0,t._)`${_}.data`,g))})}e.extendErrors=f;function h($,c){const v=$.const("err",c);$.if((0,t._)`${n.default.vErrors} === null`,()=>$.assign(n.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${n.default.vErrors}.push(${v})`),$.code((0,t._)`${n.default.errors}++`)}function u($,c){const{gen:v,validateName:g,schemaEnv:N}=$;N.$async?v.throw((0,t._)`new ${$.ValidationError}(${c})`):(v.assign((0,t._)`${g}.errors`,c),v.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function m($,c,v){const{createErrors:g}=$.it;return g===!1?(0,t._)`{}`:k($,c,v)}function k($,c,v={}){const{gen:g,it:N}=$,T=[S(N,v),w($,v)];return E($,c,T),g.object(...T)}function S({errorPath:$},{instancePath:c}){const v=c?(0,t.str)`${$}${(0,r.getErrorPath)(c,r.Type.Str)}`:$;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,v)]}function w({keyword:$,it:{errSchemaPath:c}},{schemaPath:v,parentSchema:g}){let N=g?c:(0,t.str)`${c}/${$}`;return v&&(N=(0,t.str)`${N}${(0,r.getErrorPath)(v,r.Type.Str)}`),[d.schemaPath,N]}function E($,{params:c,message:v},g){const{keyword:N,data:T,schemaValue:_,it:b}=$,{opts:j,propertyName:V,topSchemaRef:F,schemaPath:W}=b;g.push([d.keyword,N],[d.params,typeof c=="function"?c($):c||(0,t._)`{}`]),j.messages&&g.push([d.message,typeof v=="function"?v($):v]),j.verbose&&g.push([d.schema,_],[d.parentSchema,(0,t._)`${F}${W}`],[n.default.data,T]),V&&g.push([d.propertyName,V])}})(Ut);const ns=ue(Ut),as=I({__proto__:null,default:ns},[Ut]),lt=C(as);Object.defineProperty(Pe,"__esModule",{value:!0});var hn=Pe.boolOrEmptySchema=mn=Pe.topBoolOrEmptySchema=void 0;const ss=lt,os=K,is=ve,cs={message:"boolean schema is false"};function ls(e){const{gen:t,schema:r,validateName:n}=e;r===!1?pn(e,!1):typeof r=="object"&&r.$async===!0?t.return(is.default.data):(t.assign((0,os._)`${n}.errors`,null),t.return(!0))}var mn=Pe.topBoolOrEmptySchema=ls;function us(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),pn(e)):r.var(t,!0)}hn=Pe.boolOrEmptySchema=us;function pn(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,ss.reportError)(a,cs,void 0,t)}const ds=I({__proto__:null,get boolOrEmptySchema(){return hn},default:Pe,get topBoolOrEmptySchema(){return mn}},[Pe]),fs=C(ds);var Bt={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});var $n=Se.getRules=_n=Se.isJSONType=void 0;const hs=["string","number","integer","boolean","null","object","array"],ms=new Set(hs);function ps(e){return typeof e=="string"&&ms.has(e)}var _n=Se.isJSONType=ps;function $s(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}$n=Se.getRules=$s;const _s=I({__proto__:null,default:Se,get getRules(){return $n},get isJSONType(){return _n}},[Se]),yn=C(_s);var fe={};Object.defineProperty(fe,"__esModule",{value:!0});var vn=fe.shouldUseRule=bn=fe.shouldUseGroup=gn=fe.schemaHasRulesForType=void 0;function ys({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&wn(e,n)}var gn=fe.schemaHasRulesForType=ys;function wn(e,t){return t.rules.some(r=>En(e,r))}var bn=fe.shouldUseGroup=wn;function En(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}vn=fe.shouldUseRule=En;const vs=I({__proto__:null,default:fe,get schemaHasRulesForType(){return gn},get shouldUseGroup(){return bn},get shouldUseRule(){return vn}},[fe]),Pn=C(vs);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=yn,r=Pn,n=lt,a=K,o=U;var l;(function(g){g[g.Correct=0]="Correct",g[g.Wrong=1]="Wrong"})(l=e.DataType||(e.DataType={}));function f(g){const N=h(g.type);if(N.includes("null")){if(g.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!N.length&&g.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');g.nullable===!0&&N.push("null")}return N}e.getSchemaTypes=f;function h(g){const N=Array.isArray(g)?g:g?[g]:[];if(N.every(t.isJSONType))return N;throw new Error("type must be JSONType or JSONType[]: "+N.join(","))}e.getJSONTypes=h;function u(g,N){const{gen:T,data:_,opts:b}=g,j=m(N,b.coerceTypes),V=N.length>0&&!(j.length===0&&N.length===1&&(0,r.schemaHasRulesForType)(g,N[0]));if(V){const F=E(N,_,b.strictNumbers,l.Wrong);T.if(F,()=>{j.length?k(g,N,j):c(g)})}return V}e.coerceAndCheckDataType=u;const d=new Set(["string","number","integer","boolean","null"]);function m(g,N){return N?g.filter(T=>d.has(T)||N==="array"&&T==="array"):[]}function k(g,N,T){const{gen:_,data:b,opts:j}=g,V=_.let("dataType",(0,a._)`typeof ${b}`),F=_.let("coerced",(0,a._)`undefined`);j.coerceTypes==="array"&&_.if((0,a._)`${V} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>_.assign(b,(0,a._)`${b}[0]`).assign(V,(0,a._)`typeof ${b}`).if(E(N,b,j.strictNumbers),()=>_.assign(F,b))),_.if((0,a._)`${F} !== undefined`);for(const H of T)(d.has(H)||H==="array"&&j.coerceTypes==="array")&&W(H);_.else(),c(g),_.endIf(),_.if((0,a._)`${F} !== undefined`,()=>{_.assign(b,F),S(g,F)});function W(H){switch(H){case"string":_.elseIf((0,a._)`${V} == "number" || ${V} == "boolean"`).assign(F,(0,a._)`"" + ${b}`).elseIf((0,a._)`${b} === null`).assign(F,(0,a._)`""`);return;case"number":_.elseIf((0,a._)`${V} == "boolean" || ${b} === null
              || (${V} == "string" && ${b} && ${b} == +${b})`).assign(F,(0,a._)`+${b}`);return;case"integer":_.elseIf((0,a._)`${V} === "boolean" || ${b} === null
              || (${V} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(F,(0,a._)`+${b}`);return;case"boolean":_.elseIf((0,a._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(F,!1).elseIf((0,a._)`${b} === "true" || ${b} === 1`).assign(F,!0);return;case"null":_.elseIf((0,a._)`${b} === "" || ${b} === 0 || ${b} === false`),_.assign(F,null);return;case"array":_.elseIf((0,a._)`${V} === "string" || ${V} === "number"
              || ${V} === "boolean" || ${b} === null`).assign(F,(0,a._)`[${b}]`)}}}function S({gen:g,parentData:N,parentDataProperty:T},_){g.if((0,a._)`${N} !== undefined`,()=>g.assign((0,a._)`${N}[${T}]`,_))}function w(g,N,T,_=l.Correct){const b=_===l.Correct?a.operators.EQ:a.operators.NEQ;let j;switch(g){case"null":return(0,a._)`${N} ${b} null`;case"array":j=(0,a._)`Array.isArray(${N})`;break;case"object":j=(0,a._)`${N} && typeof ${N} == "object" && !Array.isArray(${N})`;break;case"integer":j=V((0,a._)`!(${N} % 1) && !isNaN(${N})`);break;case"number":j=V();break;default:return(0,a._)`typeof ${N} ${b} ${g}`}return _===l.Correct?j:(0,a.not)(j);function V(F=a.nil){return(0,a.and)((0,a._)`typeof ${N} == "number"`,F,T?(0,a._)`isFinite(${N})`:a.nil)}}e.checkDataType=w;function E(g,N,T,_){if(g.length===1)return w(g[0],N,T,_);let b;const j=(0,o.toHash)(g);if(j.array&&j.object){const V=(0,a._)`typeof ${N} != "object"`;b=j.null?V:(0,a._)`!${N} || ${V}`,delete j.null,delete j.array,delete j.object}else b=a.nil;j.number&&delete j.integer;for(const V in j)b=(0,a.and)(b,w(V,N,T,_));return b}e.checkDataTypes=E;const $={message:({schema:g})=>`must be ${g}`,params:({schema:g,schemaValue:N})=>typeof g=="string"?(0,a._)`{type: ${g}}`:(0,a._)`{type: ${N}}`};function c(g){const N=v(g);(0,n.reportError)(N,$)}e.reportTypeError=c;function v(g){const{gen:N,data:T,schema:_}=g,b=(0,o.schemaRefOrVal)(g,_,"type");return{gen:N,keyword:"type",data:T,schema:_.type,schemaCode:b,schemaValue:b,parentSchema:_,params:{},it:g}}})(Bt);const gs=ue(Bt),ws=I({__proto__:null,default:gs},[Bt]),ut=C(ws);var Le={};Object.defineProperty(Le,"__esModule",{value:!0});var Sn=Le.assignDefaults=void 0;const je=K,bs=U;function Es(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)Hr(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,o)=>Hr(e,o,a.default))}Sn=Le.assignDefaults=Es;function Hr(e,t,r){const{gen:n,compositeRule:a,data:o,opts:l}=e;if(r===void 0)return;const f=(0,je._)`${o}${(0,je.getProperty)(t)}`;if(a){(0,bs.checkStrictMode)(e,`default is ignored for: ${f}`);return}let h=(0,je._)`${f} === undefined`;l.useDefaults==="empty"&&(h=(0,je._)`${h} || ${f} === null || ${f} === ""`),n.if(h,(0,je._)`${f} = ${(0,je.stringify)(r)}`)}const Ps=I({__proto__:null,get assignDefaults(){return Sn},default:Le},[Le]),Ss=C(Ps);var ie={},G={};Object.defineProperty(G,"__esModule",{value:!0});var Nn=G.validateUnion=Fn=G.validateArray=Kn=G.usePattern=Vn=G.callValidateCode=qn=G.schemaProperties=Dn=G.allSchemaProperties=Mn=G.noPropertyInData=In=G.propertyInData=Cn=G.isOwnProperty=Rn=G.hasPropFunc=jn=G.reportMissingProp=On=G.checkMissingProp=kn=G.checkReportMissingProp=void 0;const J=K,Wt=U,$e=ve,Ns=U;function ks(e,t){const{gen:r,data:n,it:a}=e;r.if(Xt(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,J._)`${t}`},!0),e.error()})}var kn=G.checkReportMissingProp=ks;function Os({gen:e,data:t,it:{opts:r}},n,a){return(0,J.or)(...n.map(o=>(0,J.and)(Xt(e,t,o,r.ownProperties),(0,J._)`${a} = ${o}`)))}var On=G.checkMissingProp=Os;function js(e,t){e.setParams({missingProperty:t},!0),e.error()}var jn=G.reportMissingProp=js;function Tn(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,J._)`Object.prototype.hasOwnProperty`})}var Rn=G.hasPropFunc=Tn;function Qt(e,t,r){return(0,J._)`${Tn(e)}.call(${t}, ${r})`}var Cn=G.isOwnProperty=Qt;function Ts(e,t,r,n){const a=(0,J._)`${t}${(0,J.getProperty)(r)} !== undefined`;return n?(0,J._)`${a} && ${Qt(e,t,r)}`:a}var In=G.propertyInData=Ts;function Xt(e,t,r,n){const a=(0,J._)`${t}${(0,J.getProperty)(r)} === undefined`;return n?(0,J.or)(a,(0,J.not)(Qt(e,t,r))):a}var Mn=G.noPropertyInData=Xt;function An(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}var Dn=G.allSchemaProperties=An;function Rs(e,t){return An(t).filter(r=>!(0,Wt.alwaysValidSchema)(e,t[r]))}var qn=G.schemaProperties=Rs;function Cs({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:o},it:l},f,h,u){const d=u?(0,J._)`${e}, ${t}, ${n}${a}`:t,m=[[$e.default.instancePath,(0,J.strConcat)($e.default.instancePath,o)],[$e.default.parentData,l.parentData],[$e.default.parentDataProperty,l.parentDataProperty],[$e.default.rootData,$e.default.rootData]];l.opts.dynamicRef&&m.push([$e.default.dynamicAnchors,$e.default.dynamicAnchors]);const k=(0,J._)`${d}, ${r.object(...m)}`;return h!==J.nil?(0,J._)`${f}.call(${h}, ${k})`:(0,J._)`${f}(${k})`}var Vn=G.callValidateCode=Cs;const Is=(0,J._)`new RegExp`;function Ms({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,o=a(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,J._)`${a.code==="new RegExp"?Is:(0,Ns.useFunc)(e,a)}(${r}, ${n})`})}var Kn=G.usePattern=Ms;function As(e){const{gen:t,data:r,keyword:n,it:a}=e,o=t.name("valid");if(a.allErrors){const f=t.let("valid",!0);return l(()=>t.assign(f,!1)),f}return t.var(o,!0),l(()=>t.break()),o;function l(f){const h=t.const("len",(0,J._)`${r}.length`);t.forRange("i",0,h,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Wt.Type.Num},o),t.if((0,J.not)(o),f)})}}var Fn=G.validateArray=As;function Ds(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(h=>(0,Wt.alwaysValidSchema)(a,h))&&!a.opts.unevaluated)return;const l=t.let("valid",!1),f=t.name("_valid");t.block(()=>r.forEach((h,u)=>{const d=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},f);t.assign(l,(0,J._)`${l} || ${f}`),e.mergeValidEvaluated(d,f)||t.if((0,J.not)(l))})),e.result(l,()=>e.reset(),()=>e.error(!0))}Nn=G.validateUnion=Ds;const qs=I({__proto__:null,get allSchemaProperties(){return Dn},get callValidateCode(){return Vn},get checkMissingProp(){return On},get checkReportMissingProp(){return kn},default:G,get hasPropFunc(){return Rn},get isOwnProperty(){return Cn},get noPropertyInData(){return Mn},get propertyInData(){return In},get reportMissingProp(){return jn},get schemaProperties(){return qn},get usePattern(){return Kn},get validateArray(){return Fn},get validateUnion(){return Nn}},[G]),ce=C(qs);Object.defineProperty(ie,"__esModule",{value:!0});var Un=ie.validateKeywordUsage=Jn=ie.validSchemaType=Ln=ie.funcKeywordCode=zn=ie.macroKeywordCode=void 0;const Z=K,we=ve,Vs=ce,Ks=lt;function Fs(e,t){const{gen:r,keyword:n,schema:a,parentSchema:o,it:l}=e,f=t.macro.call(l.self,a,o,l),h=Gn(r,n,f);l.opts.validateSchema!==!1&&l.self.validateSchema(f,!0);const u=r.name("valid");e.subschema({schema:f,schemaPath:Z.nil,errSchemaPath:`${l.errSchemaPath}/${n}`,topSchemaRef:h,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}var zn=ie.macroKeywordCode=Fs;function Us(e,t){var r;const{gen:n,keyword:a,schema:o,parentSchema:l,$data:f,it:h}=e;Ls(h,t);const u=!f&&t.compile?t.compile.call(h.self,o,l,h):t.validate,d=Gn(n,a,u),m=n.let("valid");e.block$data(m,k),e.ok((r=t.valid)!==null&&r!==void 0?r:m);function k(){if(t.errors===!1)E(),t.modifying&&Br(e),$(()=>e.error());else{const c=t.async?S():w();t.modifying&&Br(e),$(()=>zs(e,c))}}function S(){const c=n.let("ruleErrs",null);return n.try(()=>E((0,Z._)`await `),v=>n.assign(m,!1).if((0,Z._)`${v} instanceof ${h.ValidationError}`,()=>n.assign(c,(0,Z._)`${v}.errors`),()=>n.throw(v))),c}function w(){const c=(0,Z._)`${d}.errors`;return n.assign(c,null),E(Z.nil),c}function E(c=t.async?(0,Z._)`await `:Z.nil){const v=h.opts.passContext?we.default.this:we.default.self,g=!("compile"in t&&!f||t.schema===!1);n.assign(m,(0,Z._)`${c}${(0,Vs.callValidateCode)(e,d,v,g)}`,t.modifying)}function $(c){var v;n.if((0,Z.not)((v=t.valid)!==null&&v!==void 0?v:m),c)}}var Ln=ie.funcKeywordCode=Us;function Br(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Z._)`${n.parentData}[${n.parentDataProperty}]`))}function zs(e,t){const{gen:r}=e;r.if((0,Z._)`Array.isArray(${t})`,()=>{r.assign(we.default.vErrors,(0,Z._)`${we.default.vErrors} === null ? ${t} : ${we.default.vErrors}.concat(${t})`).assign(we.default.errors,(0,Z._)`${we.default.vErrors}.length`),(0,Ks.extendErrors)(e)},()=>e.error())}function Ls({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Gn(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Z.stringify)(r)})}function Gs(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}var Jn=ie.validSchemaType=Gs;function Js({schema:e,opts:t,self:r,errSchemaPath:n},a,o){if(Array.isArray(a.keyword)?!a.keyword.includes(o):a.keyword!==o)throw new Error("ajv implementation error");const l=a.dependencies;if(l?.some(f=>!Object.prototype.hasOwnProperty.call(e,f)))throw new Error(`parent schema must have dependencies of ${o}: ${l.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[o])){const h=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(h);else throw new Error(h)}}Un=ie.validateKeywordUsage=Js;const Hs=I({__proto__:null,default:ie,get funcKeywordCode(){return Ln},get macroKeywordCode(){return zn},get validSchemaType(){return Jn},get validateKeywordUsage(){return Un}},[ie]),Bs=C(Hs);var he={};Object.defineProperty(he,"__esModule",{value:!0});var Hn=he.extendSubschemaMode=Qn=he.extendSubschemaData=Wn=he.getSubschema=void 0;const le=K,Bn=U;function Ws(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:o,topSchemaRef:l}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const f=e.schema[t];return r===void 0?{schema:f,schemaPath:(0,le._)`${e.schemaPath}${(0,le.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:f[r],schemaPath:(0,le._)`${e.schemaPath}${(0,le.getProperty)(t)}${(0,le.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Bn.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||o===void 0||l===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:l,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}var Wn=he.getSubschema=Ws;function Qs(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:o,propertyName:l}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=t;if(r!==void 0){const{errorPath:u,dataPathArr:d,opts:m}=t,k=f.let("data",(0,le._)`${t.data}${(0,le.getProperty)(r)}`,!0);h(k),e.errorPath=(0,le.str)`${u}${(0,Bn.getErrorPath)(r,n,m.jsPropertySyntax)}`,e.parentDataProperty=(0,le._)`${r}`,e.dataPathArr=[...d,e.parentDataProperty]}if(a!==void 0){const u=a instanceof le.Name?a:f.let("data",a,!0);h(u),l!==void 0&&(e.propertyName=l)}o&&(e.dataTypes=o);function h(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}var Qn=he.extendSubschemaData=Qs;function Xs(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:o}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}Hn=he.extendSubschemaMode=Xs;const Ys=I({__proto__:null,default:he,get extendSubschemaData(){return Qn},get extendSubschemaMode(){return Hn},get getSubschema(){return Wn}},[he]),Zs=C(Ys);var x={},Xn={exports:{}},ye=Xn.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};xe(t,n,a,e,"",e)};ye.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};ye.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ye.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ye.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function xe(e,t,r,n,a,o,l,f,h,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,o,l,f,h,u);for(var d in n){var m=n[d];if(Array.isArray(m)){if(d in ye.arrayKeywords)for(var k=0;k<m.length;k++)xe(e,t,r,m[k],a+"/"+d+"/"+k,o,a,d,n,k)}else if(d in ye.propsKeywords){if(m&&typeof m=="object")for(var S in m)xe(e,t,r,m[S],a+"/"+d+"/"+xs(S),o,a,d,n,S)}else(d in ye.keywords||e.allKeys&&!(d in ye.skipKeywords))&&xe(e,t,r,m,a+"/"+d,o,a,d,n)}r(n,a,o,l,f,h,u)}}function xs(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Yn=Xn.exports;const eo=ue(Yn),to=I({__proto__:null,default:eo},[Yn]),ro=C(to);Object.defineProperty(x,"__esModule",{value:!0});var Zn=x.getSchemaRefs=oa=x.resolveUrl=sa=x.normalizeId=aa=x._getFullPath=ra=x.getFullPath=xn=x.inlineRef=void 0;const no=U,ao=fn,so=ro,oo=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function io(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Dt(e):t?ea(e)<=t:!1}var xn=x.inlineRef=io;const co=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Dt(e){for(const t in e){if(co.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Dt)||typeof r=="object"&&Dt(r))return!0}return!1}function ea(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!oo.has(r)&&(typeof e[r]=="object"&&(0,no.eachItem)(e[r],n=>t+=ea(n)),t===1/0))return 1/0}return t}function ta(e,t="",r){r!==!1&&(t=Ce(t));const n=e.parse(t);return na(e,n)}var ra=x.getFullPath=ta;function na(e,t){return e.serialize(t).split("#")[0]+"#"}var aa=x._getFullPath=na;const lo=/#\/?$/;function Ce(e){return e?e.replace(lo,""):""}var sa=x.normalizeId=Ce;function uo(e,t,r){return r=Ce(r),e.resolve(t,r)}var oa=x.resolveUrl=uo;const fo=/^[a-z_][-a-z0-9._]*$/i;function ho(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Ce(e[r]||t),o={"":a},l=ta(n,a,!1),f={},h=new Set;return so(e,{allKeys:!0},(m,k,S,w)=>{if(w===void 0)return;const E=l+k;let $=o[w];typeof m[r]=="string"&&($=c.call(this,m[r])),v.call(this,m.$anchor),v.call(this,m.$dynamicAnchor),o[k]=$;function c(g){const N=this.opts.uriResolver.resolve;if(g=Ce($?N($,g):g),h.has(g))throw d(g);h.add(g);let T=this.refs[g];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?u(m,T.schema,g):g!==Ce(E)&&(g[0]==="#"?(u(m,f[g],g),f[g]=m):this.refs[g]=E),g}function v(g){if(typeof g=="string"){if(!fo.test(g))throw new Error(`invalid anchor "${g}"`);c.call(this,`#${g}`)}}}),f;function u(m,k,S){if(k!==void 0&&!ao(m,k))throw d(S)}function d(m){return new Error(`reference "${m}" resolves to more than one schema`)}}Zn=x.getSchemaRefs=ho;const mo=I({__proto__:null,get _getFullPath(){return aa},default:x,get getFullPath(){return ra},get getSchemaRefs(){return Zn},get inlineRef(){return xn},get normalizeId(){return sa},get resolveUrl(){return oa}},[x]),dt=C(mo);Object.defineProperty(de,"__esModule",{value:!0});var ia=de.getData=ya=de.KeywordCxt=la=de.validateFunctionCode=void 0;const ca=fs,Wr=ut,Yt=Pn,at=ut,po=Ss,Ve=Bs,Rt=Zs,M=K,q=ve,$o=dt,me=U,Ae=lt;function _o(e){if(fa(e)&&(ha(e),da(e))){go(e);return}ua(e,()=>(0,ca.topBoolOrEmptySchema)(e))}var la=de.validateFunctionCode=_o;function ua({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},o){a.code.es5?e.func(t,(0,M._)`${q.default.data}, ${q.default.valCxt}`,n.$async,()=>{e.code((0,M._)`"use strict"; ${Qr(r,a)}`),vo(e,a),e.code(o)}):e.func(t,(0,M._)`${q.default.data}, ${yo(a)}`,n.$async,()=>e.code(Qr(r,a)).code(o))}function yo(e){return(0,M._)`{${q.default.instancePath}="", ${q.default.parentData}, ${q.default.parentDataProperty}, ${q.default.rootData}=${q.default.data}${e.dynamicRef?(0,M._)`, ${q.default.dynamicAnchors}={}`:M.nil}}={}`}function vo(e,t){e.if(q.default.valCxt,()=>{e.var(q.default.instancePath,(0,M._)`${q.default.valCxt}.${q.default.instancePath}`),e.var(q.default.parentData,(0,M._)`${q.default.valCxt}.${q.default.parentData}`),e.var(q.default.parentDataProperty,(0,M._)`${q.default.valCxt}.${q.default.parentDataProperty}`),e.var(q.default.rootData,(0,M._)`${q.default.valCxt}.${q.default.rootData}`),t.dynamicRef&&e.var(q.default.dynamicAnchors,(0,M._)`${q.default.valCxt}.${q.default.dynamicAnchors}`)},()=>{e.var(q.default.instancePath,(0,M._)`""`),e.var(q.default.parentData,(0,M._)`undefined`),e.var(q.default.parentDataProperty,(0,M._)`undefined`),e.var(q.default.rootData,q.default.data),t.dynamicRef&&e.var(q.default.dynamicAnchors,(0,M._)`{}`)})}function go(e){const{schema:t,opts:r,gen:n}=e;ua(e,()=>{r.$comment&&t.$comment&&pa(e),So(e),n.let(q.default.vErrors,null),n.let(q.default.errors,0),r.unevaluated&&wo(e),ma(e),Oo(e)})}function wo(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,M._)`${r}.evaluated`),t.if((0,M._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,M._)`${e.evaluated}.props`,(0,M._)`undefined`)),t.if((0,M._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,M._)`${e.evaluated}.items`,(0,M._)`undefined`))}function Qr(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,M._)`/*# sourceURL=${r} */`:M.nil}function bo(e,t){if(fa(e)&&(ha(e),da(e))){Eo(e,t);return}(0,ca.boolOrEmptySchema)(e,t)}function da({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function fa(e){return typeof e.schema!="boolean"}function Eo(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&pa(e),No(e),ko(e);const o=n.const("_errs",q.default.errors);ma(e,o),n.var(t,(0,M._)`${o} === ${q.default.errors}`)}function ha(e){(0,me.checkUnknownRules)(e),Po(e)}function ma(e,t){if(e.opts.jtd)return Xr(e,[],!1,t);const r=(0,Wr.getSchemaTypes)(e.schema),n=(0,Wr.coerceAndCheckDataType)(e,r);Xr(e,r,!n,t)}function Po(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,me.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function So(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,me.checkStrictMode)(e,"default is ignored in the schema root")}function No(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,$o.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function ko(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function pa({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const o=r.$comment;if(a.$comment===!0)e.code((0,M._)`${q.default.self}.logger.log(${o})`);else if(typeof a.$comment=="function"){const l=(0,M.str)`${n}/$comment`,f=e.scopeValue("root",{ref:t.root});e.code((0,M._)`${q.default.self}.opts.$comment(${o}, ${l}, ${f}.schema)`)}}function Oo(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:o}=e;r.$async?t.if((0,M._)`${q.default.errors} === 0`,()=>t.return(q.default.data),()=>t.throw((0,M._)`new ${a}(${q.default.vErrors})`)):(t.assign((0,M._)`${n}.errors`,q.default.vErrors),o.unevaluated&&jo(e),t.return((0,M._)`${q.default.errors} === 0`))}function jo({gen:e,evaluated:t,props:r,items:n}){r instanceof M.Name&&e.assign((0,M._)`${t}.props`,r),n instanceof M.Name&&e.assign((0,M._)`${t}.items`,n)}function Xr(e,t,r,n){const{gen:a,schema:o,data:l,allErrors:f,opts:h,self:u}=e,{RULES:d}=u;if(o.$ref&&(h.ignoreKeywordsWithRef||!(0,me.schemaHasRulesButRef)(o,d))){a.block(()=>va(e,"$ref",d.all.$ref.definition));return}h.jtd||To(e,t),a.block(()=>{for(const k of d.rules)m(k);m(d.post)});function m(k){(0,Yt.shouldUseGroup)(o,k)&&(k.type?(a.if((0,at.checkDataType)(k.type,l,h.strictNumbers)),Yr(e,k),t.length===1&&t[0]===k.type&&r&&(a.else(),(0,at.reportTypeError)(e)),a.endIf()):Yr(e,k),f||a.if((0,M._)`${q.default.errors} === ${n||0}`))}}function Yr(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,po.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,Yt.shouldUseRule)(n,o)&&va(e,o.keyword,o.definition,t.type)})}function To(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Ro(e,t),e.opts.allowUnionTypes||Co(e,t),Io(e,e.dataTypes))}function Ro(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{$a(e.dataTypes,r)||Zt(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Ao(e,t)}}function Co(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Zt(e,"use allowUnionTypes to allow union type keyword")}function Io(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,Yt.shouldUseRule)(e.schema,a)){const{type:o}=a.definition;o.length&&!o.some(l=>Mo(t,l))&&Zt(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Mo(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function $a(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Ao(e,t){const r=[];for(const n of e.dataTypes)$a(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Zt(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,me.checkStrictMode)(e,t,e.opts.strictTypes)}class _a{constructor(t,r,n){if((0,Ve.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,me.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ga(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ve.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",q.default.errors))}result(t,r,n){this.failResult((0,M.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,M.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,M._)`${r} !== undefined && (${(0,M.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ae.reportExtraError:Ae.reportError)(this,this.def.error,r)}$dataError(){(0,Ae.reportError)(this,this.def.$dataError||Ae.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ae.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=M.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=M.nil,r=M.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:o,def:l}=this;n.if((0,M.or)((0,M._)`${a} === undefined`,r)),t!==M.nil&&n.assign(t,!0),(o.length||l.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==M.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:o}=this;return(0,M.or)(l(),f());function l(){if(n.length){if(!(r instanceof M.Name))throw new Error("ajv implementation error");const h=Array.isArray(n)?n:[n];return(0,M._)`${(0,at.checkDataTypes)(h,r,o.opts.strictNumbers,at.DataType.Wrong)}`}return M.nil}function f(){if(a.validateSchema){const h=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,M._)`!${h}(${r})`}return M.nil}}subschema(t,r){const n=(0,Rt.getSubschema)(this.it,t);(0,Rt.extendSubschemaData)(n,this.it,t),(0,Rt.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return bo(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=me.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=me.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,M.Name)),!0}}var ya=de.KeywordCxt=_a;function va(e,t,r,n){const a=new _a(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Ve.funcKeywordCode)(a,r):"macro"in r?(0,Ve.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Ve.funcKeywordCode)(a,r)}const Do=/^\/(?:[^~]|~0|~1)*$/,qo=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ga(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,o;if(e==="")return q.default.rootData;if(e[0]==="/"){if(!Do.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,o=q.default.rootData}else{const u=qo.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const d=+u[1];if(a=u[2],a==="#"){if(d>=t)throw new Error(h("property/index",d));return n[t-d]}if(d>t)throw new Error(h("data",d));if(o=r[t-d],!a)return o}let l=o;const f=a.split("/");for(const u of f)u&&(o=(0,M._)`${o}${(0,M.getProperty)((0,me.unescapeJsonPointer)(u))}`,l=(0,M._)`${l} && ${o}`);return l;function h(u,d){return`Cannot access ${u} ${d} levels up, current level is ${t}`}}ia=de.getData=ga;const Vo=I({__proto__:null,get KeywordCxt(){return ya},default:de,get getData(){return ia},get validateFunctionCode(){return la}},[de]),ft=C(Vo);var xt={};Object.defineProperty(xt,"__esModule",{value:!0});class Ko extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}var Fo=xt.default=Ko;const Uo=I({__proto__:null,default:Fo},[xt]),er=C(Uo);var tr={};Object.defineProperty(tr,"__esModule",{value:!0});const Ct=dt;class zo extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Ct.resolveUrl)(t,r,n),this.missingSchema=(0,Ct.normalizeId)((0,Ct.getFullPath)(t,this.missingRef))}}var Lo=tr.default=zo;const Go=I({__proto__:null,default:Lo},[tr]),rr=C(Go);var te={};Object.defineProperty(te,"__esModule",{value:!0});var wa=te.resolveSchema=Na=te.getCompilingSchema=Pa=te.resolveRef=Ea=te.compileSchema=ba=te.SchemaEnv=void 0;const ae=K,Jo=er,ge=ve,oe=dt,Zr=U,Ho=ft;class ht{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,oe.normalizeId)(n?.[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n?.$async,this.refs={}}}var ba=te.SchemaEnv=ht;function nr(e){const t=Sa.call(this,e);if(t)return t;const r=(0,oe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:o}=this.opts,l=new ae.CodeGen(this.scope,{es5:n,lines:a,ownProperties:o});let f;e.$async&&(f=l.scopeValue("Error",{ref:Jo.default,code:(0,ae._)`require("ajv/dist/runtime/validation_error").default`}));const h=l.scopeName("validate");e.validateName=h;const u={gen:l,allErrors:this.opts.allErrors,data:ge.default.data,parentData:ge.default.parentData,parentDataProperty:ge.default.parentDataProperty,dataNames:[ge.default.data],dataPathArr:[ae.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ae.stringify)(e.schema)}:{ref:e.schema}),validateName:h,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ae.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ae._)`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,Ho.validateFunctionCode)(u),l.optimize(this.opts.code.optimize);const m=l.toString();d=`${l.scopeRefs(ge.default.scope)}return ${m}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const S=new Function(`${ge.default.self}`,`${ge.default.scope}`,d)(this,this.scope.get());if(this.scope.value(h,{ref:S}),S.errors=null,S.schema=e.schema,S.schemaEnv=e,e.$async&&(S.$async=!0),this.opts.code.source===!0&&(S.source={validateName:h,validateCode:m,scopeValues:l._values}),this.opts.unevaluated){const{props:w,items:E}=u;S.evaluated={props:w instanceof ae.Name?void 0:w,items:E instanceof ae.Name?void 0:E,dynamicProps:w instanceof ae.Name,dynamicItems:E instanceof ae.Name},S.source&&(S.source.evaluated=(0,ae.stringify)(S.evaluated))}return e.validate=S,e}catch(m){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),m}finally{this._compilations.delete(e)}}var Ea=te.compileSchema=nr;function Bo(e,t,r){var n;r=(0,oe.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let o=Xo.call(this,e,r);if(o===void 0){const l=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:f}=this.opts;l&&(o=new ht({schema:l,schemaId:f,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=Wo.call(this,o)}var Pa=te.resolveRef=Bo;function Wo(e){return(0,oe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:nr.call(this,e)}function Sa(e){for(const t of this._compilations)if(Qo(t,e))return t}var Na=te.getCompilingSchema=Sa;function Qo(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Xo(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||mt.call(this,e,t)}function mt(e,t){const r=this.opts.uriResolver.parse(t),n=(0,oe._getFullPath)(this.opts.uriResolver,r);let a=(0,oe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return It.call(this,r,e);const o=(0,oe.normalizeId)(n),l=this.refs[o]||this.schemas[o];if(typeof l=="string"){const f=mt.call(this,e,l);return typeof f?.schema!="object"?void 0:It.call(this,r,f)}if(typeof l?.schema=="object"){if(l.validate||nr.call(this,l),o===(0,oe.normalizeId)(t)){const{schema:f}=l,{schemaId:h}=this.opts,u=f[h];return u&&(a=(0,oe.resolveUrl)(this.opts.uriResolver,a,u)),new ht({schema:f,schemaId:h,root:e,baseId:a})}return It.call(this,r,l)}}wa=te.resolveSchema=mt;const Yo=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function It(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const f of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const h=r[(0,Zr.unescapeFragment)(f)];if(h===void 0)return;r=h;const u=typeof r=="object"&&r[this.opts.schemaId];!Yo.has(f)&&u&&(t=(0,oe.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Zr.schemaHasRulesButRef)(r,this.RULES)){const f=(0,oe.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=mt.call(this,n,f)}const{schemaId:l}=this.opts;if(o=o||new ht({schema:r,schemaId:l,root:n,baseId:t}),o.schema!==o.root.schema)return o}const Zo=I({__proto__:null,get SchemaEnv(){return ba},get compileSchema(){return Ea},default:te,get getCompilingSchema(){return Na},get resolveRef(){return Pa},get resolveSchema(){return wa}},[te]),ar=C(Zo),xo="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ei="Meta-schema for $data reference (JSON AnySchema extension proposal)",ti="object",ri=["$data"],ni={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},ai=!1,si={$id:xo,description:ei,type:ti,required:ri,properties:ni,additionalProperties:ai};var sr={};Object.defineProperty(sr,"__esModule",{value:!0});const ka=Ja;ka.code='require("ajv/dist/runtime/uri").default';var oi=sr.default=ka;const ii=I({__proto__:null,default:oi},[sr]),ci=C(ii);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ft;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=K;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=er,a=rr,o=yn,l=ar,f=K,h=dt,u=ut,d=U,m=si,k=ci,S=(R,p)=>new RegExp(R,p);S.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},c={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function g(R){var p,O,y,s,i,P,A,D,L,z,Q,Oe,_t,yt,vt,gt,wt,bt,Et,Pt,St,Nt,kt,Ot,jt;const Me=R.strict,Tt=(p=R.code)===null||p===void 0?void 0:p.optimize,zr=Tt===!0||Tt===void 0?1:Tt||0,Lr=(y=(O=R.code)===null||O===void 0?void 0:O.regExp)!==null&&y!==void 0?y:S,Ga=(s=R.uriResolver)!==null&&s!==void 0?s:k.default;return{strictSchema:(P=(i=R.strictSchema)!==null&&i!==void 0?i:Me)!==null&&P!==void 0?P:!0,strictNumbers:(D=(A=R.strictNumbers)!==null&&A!==void 0?A:Me)!==null&&D!==void 0?D:!0,strictTypes:(z=(L=R.strictTypes)!==null&&L!==void 0?L:Me)!==null&&z!==void 0?z:"log",strictTuples:(Oe=(Q=R.strictTuples)!==null&&Q!==void 0?Q:Me)!==null&&Oe!==void 0?Oe:"log",strictRequired:(yt=(_t=R.strictRequired)!==null&&_t!==void 0?_t:Me)!==null&&yt!==void 0?yt:!1,code:R.code?{...R.code,optimize:zr,regExp:Lr}:{optimize:zr,regExp:Lr},loopRequired:(vt=R.loopRequired)!==null&&vt!==void 0?vt:v,loopEnum:(gt=R.loopEnum)!==null&&gt!==void 0?gt:v,meta:(wt=R.meta)!==null&&wt!==void 0?wt:!0,messages:(bt=R.messages)!==null&&bt!==void 0?bt:!0,inlineRefs:(Et=R.inlineRefs)!==null&&Et!==void 0?Et:!0,schemaId:(Pt=R.schemaId)!==null&&Pt!==void 0?Pt:"$id",addUsedSchema:(St=R.addUsedSchema)!==null&&St!==void 0?St:!0,validateSchema:(Nt=R.validateSchema)!==null&&Nt!==void 0?Nt:!0,validateFormats:(kt=R.validateFormats)!==null&&kt!==void 0?kt:!0,unicodeRegExp:(Ot=R.unicodeRegExp)!==null&&Ot!==void 0?Ot:!0,int32range:(jt=R.int32range)!==null&&jt!==void 0?jt:!0,uriResolver:Ga}}class N{constructor(p={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,p=this.opts={...p,...g(p)};const{es5:O,lines:y}=this.opts.code;this.scope=new f.ValueScope({scope:{},prefixes:E,es5:O,lines:y}),this.logger=H(p.logger);const s=p.validateFormats;p.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,$,p,"NOT SUPPORTED"),T.call(this,c,p,"DEPRECATED","warn"),this._metaOpts=F.call(this),p.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),p.keywords&&V.call(this,p.keywords),typeof p.meta=="object"&&this.addMetaSchema(p.meta),b.call(this),p.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:p,meta:O,schemaId:y}=this.opts;let s=m;y==="id"&&(s={...m},s.id=s.$id,delete s.$id),O&&p&&this.addMetaSchema(s,s[y],!1)}defaultMeta(){const{meta:p,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof p=="object"?p[O]||p:void 0}validate(p,O){let y;if(typeof p=="string"){if(y=this.getSchema(p),!y)throw new Error(`no schema with key or ref "${p}"`)}else y=this.compile(p);const s=y(O);return"$async"in y||(this.errors=y.errors),s}compile(p,O){const y=this._addSchema(p,O);return y.validate||this._compileSchemaEnv(y)}compileAsync(p,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:y}=this.opts;return s.call(this,p,O);async function s(z,Q){await i.call(this,z.$schema);const Oe=this._addSchema(z,Q);return Oe.validate||P.call(this,Oe)}async function i(z){z&&!this.getSchema(z)&&await s.call(this,{$ref:z},!0)}async function P(z){try{return this._compileSchemaEnv(z)}catch(Q){if(!(Q instanceof a.default))throw Q;return A.call(this,Q),await D.call(this,Q.missingSchema),P.call(this,z)}}function A({missingSchema:z,missingRef:Q}){if(this.refs[z])throw new Error(`AnySchema ${z} is loaded but ${Q} cannot be resolved`)}async function D(z){const Q=await L.call(this,z);this.refs[z]||await i.call(this,Q.$schema),this.refs[z]||this.addSchema(Q,z,O)}async function L(z){const Q=this._loading[z];if(Q)return Q;try{return await(this._loading[z]=y(z))}finally{delete this._loading[z]}}}addSchema(p,O,y,s=this.opts.validateSchema){if(Array.isArray(p)){for(const P of p)this.addSchema(P,void 0,y,s);return this}let i;if(typeof p=="object"){const{schemaId:P}=this.opts;if(i=p[P],i!==void 0&&typeof i!="string")throw new Error(`schema ${P} must be string`)}return O=(0,h.normalizeId)(O||i),this._checkUnique(O),this.schemas[O]=this._addSchema(p,y,O,s,!0),this}addMetaSchema(p,O,y=this.opts.validateSchema){return this.addSchema(p,O,!0,y),this}validateSchema(p,O){if(typeof p=="boolean")return!0;let y;if(y=p.$schema,y!==void 0&&typeof y!="string")throw new Error("$schema must be a string");if(y=y||this.opts.defaultMeta||this.defaultMeta(),!y)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(y,p);if(!s&&O){const i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(p){let O;for(;typeof(O=_.call(this,p))=="string";)p=O;if(O===void 0){const{schemaId:y}=this.opts,s=new l.SchemaEnv({schema:{},schemaId:y});if(O=l.resolveSchema.call(this,s,p),!O)return;this.refs[p]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(p){if(p instanceof RegExp)return this._removeAllSchemas(this.schemas,p),this._removeAllSchemas(this.refs,p),this;switch(typeof p){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=_.call(this,p);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[p],delete this.refs[p],this}case"object":{const O=p;this._cache.delete(O);let y=p[this.opts.schemaId];return y&&(y=(0,h.normalizeId)(y),delete this.schemas[y],delete this.refs[y]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(p){for(const O of p)this.addKeyword(O);return this}addKeyword(p,O){let y;if(typeof p=="string")y=p,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=y);else if(typeof p=="object"&&O===void 0){if(O=p,y=O.keyword,Array.isArray(y)&&!y.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,y,O),!O)return(0,d.eachItem)(y,i=>Ie.call(this,i)),this;pt.call(this,O);const s={...O,type:(0,u.getJSONTypes)(O.type),schemaType:(0,u.getJSONTypes)(O.schemaType)};return(0,d.eachItem)(y,s.type.length===0?i=>Ie.call(this,i,s):i=>s.type.forEach(P=>Ie.call(this,i,s,P))),this}getKeyword(p){const O=this.RULES.all[p];return typeof O=="object"?O.definition:!!O}removeKeyword(p){const{RULES:O}=this;delete O.keywords[p],delete O.all[p];for(const y of O.rules){const s=y.rules.findIndex(i=>i.keyword===p);s>=0&&y.rules.splice(s,1)}return this}addFormat(p,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[p]=O,this}errorsText(p=this.errors,{separator:O=", ",dataVar:y="data"}={}){return!p||p.length===0?"No errors":p.map(s=>`${y}${s.instancePath} ${s.message}`).reduce((s,i)=>s+O+i)}$dataMetaSchema(p,O){const y=this.RULES.all;p=JSON.parse(JSON.stringify(p));for(const s of O){const i=s.split("/").slice(1);let P=p;for(const A of i)P=P[A];for(const A in y){const D=y[A];if(typeof D!="object")continue;const{$data:L}=D.definition,z=P[A];L&&z&&(P[A]=Be(z))}}return p}_removeAllSchemas(p,O){for(const y in p){const s=p[y];(!O||O.test(y))&&(typeof s=="string"?delete p[y]:s&&!s.meta&&(this._cache.delete(s.schema),delete p[y]))}}_addSchema(p,O,y,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let P;const{schemaId:A}=this.opts;if(typeof p=="object")P=p[A];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof p!="boolean")throw new Error("schema must be object or boolean")}let D=this._cache.get(p);if(D!==void 0)return D;y=(0,h.normalizeId)(P||y);const L=h.getSchemaRefs.call(this,p,y);return D=new l.SchemaEnv({schema:p,schemaId:A,meta:O,baseId:y,localRefs:L}),this._cache.set(D.schema,D),i&&!y.startsWith("#")&&(y&&this._checkUnique(y),this.refs[y]=D),s&&this.validateSchema(p,!0),D}_checkUnique(p){if(this.schemas[p]||this.refs[p])throw new Error(`schema with key or id "${p}" already exists`)}_compileSchemaEnv(p){if(p.meta?this._compileMetaSchema(p):l.compileSchema.call(this,p),!p.validate)throw new Error("ajv implementation error");return p.validate}_compileMetaSchema(p){const O=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,p)}finally{this.opts=O}}}e.default=N,N.ValidationError=n.default,N.MissingRefError=a.default;function T(R,p,O,y="error"){for(const s in R){const i=s;i in p&&this.logger[y](`${O}: option ${s}. ${R[i]}`)}}function _(R){return R=(0,h.normalizeId)(R),this.schemas[R]||this.refs[R]}function b(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const p in R)this.addSchema(R[p],p)}function j(){for(const R in this.opts.formats){const p=this.opts.formats[R];p&&this.addFormat(R,p)}}function V(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const p in R){const O=R[p];O.keyword||(O.keyword=p),this.addKeyword(O)}}function F(){const R={...this.opts};for(const p of w)delete R[p];return R}const W={log(){},warn(){},error(){}};function H(R){if(R===!1)return W;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const pe=/^[a-z_$][a-z0-9_$:-]*$/i;function re(R,p){const{RULES:O}=this;if((0,d.eachItem)(R,y=>{if(O.keywords[y])throw new Error(`Keyword ${y} is already defined`);if(!pe.test(y))throw new Error(`Keyword ${y} has invalid name`)}),!!p&&p.$data&&!("code"in p||"validate"in p))throw new Error('$data keyword must have "code" or "validate" function')}function Ie(R,p,O){var y;const s=p?.post;if(O&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let P=s?i.post:i.rules.find(({type:D})=>D===O);if(P||(P={type:O,rules:[]},i.rules.push(P)),i.keywords[R]=!0,!p)return;const A={keyword:R,definition:{...p,type:(0,u.getJSONTypes)(p.type),schemaType:(0,u.getJSONTypes)(p.schemaType)}};p.before?He.call(this,P,A,p.before):P.rules.push(A),i.all[R]=A,(y=p.implements)===null||y===void 0||y.forEach(D=>this.addKeyword(D))}function He(R,p,O){const y=R.rules.findIndex(s=>s.keyword===O);y>=0?R.rules.splice(y,0,p):(R.rules.push(p),this.logger.warn(`rule ${O} is not defined`))}function pt(R){let{metaSchema:p}=R;p!==void 0&&(R.$data&&this.opts.$data&&(p=Be(p)),R.validateSchema=this.compile(p,!0))}const $t={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Be(R){return{anyOf:[R,$t]}}})(Ft);const li=ue(Ft),ui=I({__proto__:null,default:li},[Ft]),di=C(ui);var or={},ir={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});const fi={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};var hi=cr.default=fi;const mi=I({__proto__:null,default:hi},[cr]),pi=C(mi);var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});var Oa=Ne.callRef=Ta=Ne.getValidate=void 0;const $i=rr,xr=ce,ee=K,Te=ve,en=ar,We=U,_i={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:o,validateName:l,opts:f,self:h}=n,{root:u}=o;if((r==="#"||r==="#/")&&a===u.baseId)return m();const d=en.resolveRef.call(h,u,a,r);if(d===void 0)throw new $i.default(n.opts.uriResolver,a,r);if(d instanceof en.SchemaEnv)return k(d);return S(d);function m(){if(o===u)return et(e,l,o,o.$async);const w=t.scopeValue("root",{ref:u});return et(e,(0,ee._)`${w}.validate`,u,u.$async)}function k(w){const E=ja(e,w);et(e,E,w,w.$async)}function S(w){const E=t.scopeValue("schema",f.code.source===!0?{ref:w,code:(0,ee.stringify)(w)}:{ref:w}),$=t.name("valid"),c=e.subschema({schema:w,dataTypes:[],schemaPath:ee.nil,topSchemaRef:E,errSchemaPath:r},$);e.mergeEvaluated(c),e.ok($)}}};function ja(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,ee._)`${r.scopeValue("wrapper",{ref:t})}.validate`}var Ta=Ne.getValidate=ja;function et(e,t,r,n){const{gen:a,it:o}=e,{allErrors:l,schemaEnv:f,opts:h}=o,u=h.passContext?Te.default.this:ee.nil;n?d():m();function d(){if(!f.$async)throw new Error("async schema referenced by sync schema");const w=a.let("valid");a.try(()=>{a.code((0,ee._)`await ${(0,xr.callValidateCode)(e,t,u)}`),S(t),l||a.assign(w,!0)},E=>{a.if((0,ee._)`!(${E} instanceof ${o.ValidationError})`,()=>a.throw(E)),k(E),l||a.assign(w,!1)}),e.ok(w)}function m(){e.result((0,xr.callValidateCode)(e,t,u),()=>S(t),()=>k(t))}function k(w){const E=(0,ee._)`${w}.errors`;a.assign(Te.default.vErrors,(0,ee._)`${Te.default.vErrors} === null ? ${E} : ${Te.default.vErrors}.concat(${E})`),a.assign(Te.default.errors,(0,ee._)`${Te.default.vErrors}.length`)}function S(w){var E;if(!o.opts.unevaluated)return;const $=(E=r?.validate)===null||E===void 0?void 0:E.evaluated;if(o.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(o.props=We.mergeEvaluated.props(a,$.props,o.props));else{const c=a.var("props",(0,ee._)`${w}.evaluated.props`);o.props=We.mergeEvaluated.props(a,c,o.props,ee.Name)}if(o.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(o.items=We.mergeEvaluated.items(a,$.items,o.items));else{const c=a.var("items",(0,ee._)`${w}.evaluated.items`);o.items=We.mergeEvaluated.items(a,c,o.items,ee.Name)}}}Oa=Ne.callRef=et;var yi=Ne.default=_i;const vi=I({__proto__:null,get callRef(){return Oa},default:yi,get getValidate(){return Ta}},[Ne]),gi=C(vi);Object.defineProperty(ir,"__esModule",{value:!0});const wi=pi,bi=gi,Ei=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",wi.default,bi.default];var Pi=ir.default=Ei;const Si=I({__proto__:null,default:Pi},[ir]),Ni=C(Si);var lr={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});const st=K,_e=st.operators,ot={maximum:{okStr:"<=",ok:_e.LTE,fail:_e.GT},minimum:{okStr:">=",ok:_e.GTE,fail:_e.LT},exclusiveMaximum:{okStr:"<",ok:_e.LT,fail:_e.GTE},exclusiveMinimum:{okStr:">",ok:_e.GT,fail:_e.LTE}},ki={message:({keyword:e,schemaCode:t})=>(0,st.str)`must be ${ot[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,st._)`{comparison: ${ot[e].okStr}, limit: ${t}}`},Oi={keyword:Object.keys(ot),type:"number",schemaType:"number",$data:!0,error:ki,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,st._)`${r} ${ot[t].fail} ${n} || isNaN(${r})`)}};var ji=ur.default=Oi;const Ti=I({__proto__:null,default:ji},[ur]),Ri=C(Ti);var dr={};Object.defineProperty(dr,"__esModule",{value:!0});const Ke=K,Ci={message:({schemaCode:e})=>(0,Ke.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Ke._)`{multipleOf: ${e}}`},Ii={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Ci,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,o=a.opts.multipleOfPrecision,l=t.let("res"),f=o?(0,Ke._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${o}`:(0,Ke._)`${l} !== parseInt(${l})`;e.fail$data((0,Ke._)`(${n} === 0 || (${l} = ${r}/${n}, ${f}))`)}};var Mi=dr.default=Ii;const Ai=I({__proto__:null,default:Mi},[dr]),Di=C(Ai);var fr={},hr={};Object.defineProperty(hr,"__esModule",{value:!0});function Ra(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}var qi=hr.default=Ra;Ra.code='require("ajv/dist/runtime/ucs2length").default';const Vi=I({__proto__:null,default:qi},[hr]),Ki=C(Vi);Object.defineProperty(fr,"__esModule",{value:!0});const be=K,Fi=U,Ui=Ki,zi={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,be.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,be._)`{limit: ${e}}`},Li={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:zi,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,o=t==="maxLength"?be.operators.GT:be.operators.LT,l=a.opts.unicode===!1?(0,be._)`${r}.length`:(0,be._)`${(0,Fi.useFunc)(e.gen,Ui.default)}(${r})`;e.fail$data((0,be._)`${l} ${o} ${n}`)}};var Gi=fr.default=Li;const Ji=I({__proto__:null,default:Gi},[fr]),Hi=C(Ji);var mr={};Object.defineProperty(mr,"__esModule",{value:!0});const Bi=ce,it=K,Wi={message:({schemaCode:e})=>(0,it.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,it._)`{pattern: ${e}}`},Qi={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Wi,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:o}=e,l=o.opts.unicodeRegExp?"u":"",f=r?(0,it._)`(new RegExp(${a}, ${l}))`:(0,Bi.usePattern)(e,n);e.fail$data((0,it._)`!${f}.test(${t})`)}};var Xi=mr.default=Qi;const Yi=I({__proto__:null,default:Xi},[mr]),Zi=C(Yi);var pr={};Object.defineProperty(pr,"__esModule",{value:!0});const Fe=K,xi={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Fe.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Fe._)`{limit: ${e}}`},ec={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:xi,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Fe.operators.GT:Fe.operators.LT;e.fail$data((0,Fe._)`Object.keys(${r}).length ${a} ${n}`)}};var tc=pr.default=ec;const rc=I({__proto__:null,default:tc},[pr]),nc=C(rc);var $r={};Object.defineProperty($r,"__esModule",{value:!0});const De=ce,Ue=K,ac=U,sc={message:({params:{missingProperty:e}})=>(0,Ue.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ue._)`{missingProperty: ${e}}`},oc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:sc,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:o,it:l}=e,{opts:f}=l;if(!o&&r.length===0)return;const h=r.length>=f.loopRequired;if(l.allErrors?u():d(),f.strictRequired){const S=e.parentSchema.properties,{definedProperties:w}=e.it;for(const E of r)if(S?.[E]===void 0&&!w.has(E)){const $=l.schemaEnv.baseId+l.errSchemaPath,c=`required property "${E}" is not defined at "${$}" (strictRequired)`;(0,ac.checkStrictMode)(l,c,l.opts.strictRequired)}}function u(){if(h||o)e.block$data(Ue.nil,m);else for(const S of r)(0,De.checkReportMissingProp)(e,S)}function d(){const S=t.let("missing");if(h||o){const w=t.let("valid",!0);e.block$data(w,()=>k(S,w)),e.ok(w)}else t.if((0,De.checkMissingProp)(e,r,S)),(0,De.reportMissingProp)(e,S),t.else()}function m(){t.forOf("prop",n,S=>{e.setParams({missingProperty:S}),t.if((0,De.noPropertyInData)(t,a,S,f.ownProperties),()=>e.error())})}function k(S,w){e.setParams({missingProperty:S}),t.forOf(S,n,()=>{t.assign(w,(0,De.propertyInData)(t,a,S,f.ownProperties)),t.if((0,Ue.not)(w),()=>{e.error(),t.break()})},Ue.nil)}}};var ic=$r.default=oc;const cc=I({__proto__:null,default:ic},[$r]),lc=C(cc);var _r={};Object.defineProperty(_r,"__esModule",{value:!0});const ze=K,uc={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,ze.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,ze._)`{limit: ${e}}`},dc={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:uc,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?ze.operators.GT:ze.operators.LT;e.fail$data((0,ze._)`${r}.length ${a} ${n}`)}};var fc=_r.default=dc;const hc=I({__proto__:null,default:fc},[_r]),mc=C(hc);var yr={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});const Ca=fn;Ca.code='require("ajv/dist/runtime/equal").default';var pc=vr.default=Ca;const $c=I({__proto__:null,default:pc},[vr]),gr=C($c);Object.defineProperty(yr,"__esModule",{value:!0});const Mt=ut,X=K,_c=U,yc=gr,vc={message:({params:{i:e,j:t}})=>(0,X.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,X._)`{i: ${e}, j: ${t}}`},gc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:vc,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:o,schemaCode:l,it:f}=e;if(!n&&!a)return;const h=t.let("valid"),u=o.items?(0,Mt.getSchemaTypes)(o.items):[];e.block$data(h,d,(0,X._)`${l} === false`),e.ok(h);function d(){const w=t.let("i",(0,X._)`${r}.length`),E=t.let("j");e.setParams({i:w,j:E}),t.assign(h,!0),t.if((0,X._)`${w} > 1`,()=>(m()?k:S)(w,E))}function m(){return u.length>0&&!u.some(w=>w==="object"||w==="array")}function k(w,E){const $=t.name("item"),c=(0,Mt.checkDataTypes)(u,$,f.opts.strictNumbers,Mt.DataType.Wrong),v=t.const("indices",(0,X._)`{}`);t.for((0,X._)`;${w}--;`,()=>{t.let($,(0,X._)`${r}[${w}]`),t.if(c,(0,X._)`continue`),u.length>1&&t.if((0,X._)`typeof ${$} == "string"`,(0,X._)`${$} += "_"`),t.if((0,X._)`typeof ${v}[${$}] == "number"`,()=>{t.assign(E,(0,X._)`${v}[${$}]`),e.error(),t.assign(h,!1).break()}).code((0,X._)`${v}[${$}] = ${w}`)})}function S(w,E){const $=(0,_c.useFunc)(t,yc.default),c=t.name("outer");t.label(c).for((0,X._)`;${w}--;`,()=>t.for((0,X._)`${E} = ${w}; ${E}--;`,()=>t.if((0,X._)`${$}(${r}[${w}], ${r}[${E}])`,()=>{e.error(),t.assign(h,!1).break(c)})))}}};var wc=yr.default=gc;const bc=I({__proto__:null,default:wc},[yr]),Ec=C(bc);var wr={};Object.defineProperty(wr,"__esModule",{value:!0});const qt=K,Pc=U,Sc=gr,Nc={message:"must be equal to constant",params:({schemaCode:e})=>(0,qt._)`{allowedValue: ${e}}`},kc={keyword:"const",$data:!0,error:Nc,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,qt._)`!${(0,Pc.useFunc)(t,Sc.default)}(${r}, ${a})`):e.fail((0,qt._)`${o} !== ${r}`)}};var Oc=wr.default=kc;const jc=I({__proto__:null,default:Oc},[wr]),Tc=C(jc);var br={};Object.defineProperty(br,"__esModule",{value:!0});const qe=K,Rc=U,Cc=gr,Ic={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,qe._)`{allowedValues: ${e}}`},Mc={keyword:"enum",schemaType:"array",$data:!0,error:Ic,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:o,it:l}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const f=a.length>=l.opts.loopEnum;let h;const u=()=>h??(h=(0,Rc.useFunc)(t,Cc.default));let d;if(f||n)d=t.let("valid"),e.block$data(d,m);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const S=t.const("vSchema",o);d=(0,qe.or)(...a.map((w,E)=>k(S,E)))}e.pass(d);function m(){t.assign(d,!1),t.forOf("v",o,S=>t.if((0,qe._)`${u()}(${r}, ${S})`,()=>t.assign(d,!0).break()))}function k(S,w){const E=a[w];return typeof E=="object"&&E!==null?(0,qe._)`${u()}(${r}, ${S}[${w}])`:(0,qe._)`${r} === ${E}`}}};var Ac=br.default=Mc;const Dc=I({__proto__:null,default:Ac},[br]),qc=C(Dc);Object.defineProperty(lr,"__esModule",{value:!0});const Vc=Ri,Kc=Di,Fc=Hi,Uc=Zi,zc=nc,Lc=lc,Gc=mc,Jc=Ec,Hc=Tc,Bc=qc,Wc=[Vc.default,Kc.default,Fc.default,Uc.default,zc.default,Lc.default,Gc.default,Jc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Hc.default,Bc.default];var Qc=lr.default=Wc;const Xc=I({__proto__:null,default:Qc},[lr]),Yc=C(Xc);var Er={},Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});var Ia=Ge.validateAdditionalItems=void 0;const Ee=K,Vt=U,Zc={message:({params:{len:e}})=>(0,Ee.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ee._)`{limit: ${e}}`},xc={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Zc,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Vt.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ma(e,n)}};function Ma(e,t){const{gen:r,schema:n,data:a,keyword:o,it:l}=e;l.items=!0;const f=r.const("len",(0,Ee._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,Ee._)`${f} <= ${t.length}`);else if(typeof n=="object"&&!(0,Vt.alwaysValidSchema)(l,n)){const u=r.var("valid",(0,Ee._)`${f} <= ${t.length}`);r.if((0,Ee.not)(u),()=>h(u)),e.ok(u)}function h(u){r.forRange("i",t.length,f,d=>{e.subschema({keyword:o,dataProp:d,dataPropType:Vt.Type.Num},u),l.allErrors||r.if((0,Ee.not)(u),()=>r.break())})}}Ia=Ge.validateAdditionalItems=Ma;var el=Ge.default=xc;const tl=I({__proto__:null,default:el,get validateAdditionalItems(){return Ia}},[Ge]),Aa=C(tl);var Pr={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});var Da=Je.validateTuple=void 0;const tn=K,tt=U,rl=ce,nl={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return qa(e,"additionalItems",t);r.items=!0,!(0,tt.alwaysValidSchema)(r,t)&&e.ok((0,rl.validateArray)(e))}};function qa(e,t,r=e.schema){const{gen:n,parentSchema:a,data:o,keyword:l,it:f}=e;d(a),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=tt.mergeEvaluated.items(n,r.length,f.items));const h=n.name("valid"),u=n.const("len",(0,tn._)`${o}.length`);r.forEach((m,k)=>{(0,tt.alwaysValidSchema)(f,m)||(n.if((0,tn._)`${u} > ${k}`,()=>e.subschema({keyword:l,schemaProp:k,dataProp:k},h)),e.ok(h))});function d(m){const{opts:k,errSchemaPath:S}=f,w=r.length,E=w===m.minItems&&(w===m.maxItems||m[t]===!1);if(k.strictTuples&&!E){const $=`"${l}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${S}"`;(0,tt.checkStrictMode)(f,$,k.strictTuples)}}}Da=Je.validateTuple=qa;var al=Je.default=nl;const sl=I({__proto__:null,default:al,get validateTuple(){return Da}},[Je]),Va=C(sl);Object.defineProperty(Pr,"__esModule",{value:!0});const ol=Va,il={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,ol.validateTuple)(e,"items")};var cl=Pr.default=il;const ll=I({__proto__:null,default:cl},[Pr]),ul=C(ll);var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});const rn=K,dl=U,fl=ce,hl=Aa,ml={message:({params:{len:e}})=>(0,rn.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,rn._)`{limit: ${e}}`},pl={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:ml,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,dl.alwaysValidSchema)(n,t)&&(a?(0,hl.validateAdditionalItems)(e,a):e.ok((0,fl.validateArray)(e)))}};var $l=Sr.default=pl;const _l=I({__proto__:null,default:$l},[Sr]),yl=C(_l);var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});const ne=K,Qe=U,vl={message:({params:{min:e,max:t}})=>t===void 0?(0,ne.str)`must contain at least ${e} valid item(s)`:(0,ne.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ne._)`{minContains: ${e}}`:(0,ne._)`{minContains: ${e}, maxContains: ${t}}`},gl={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:vl,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;let l,f;const{minContains:h,maxContains:u}=n;o.opts.next?(l=h===void 0?1:h,f=u):l=1;const d=t.const("len",(0,ne._)`${a}.length`);if(e.setParams({min:l,max:f}),f===void 0&&l===0){(0,Qe.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&l>f){(0,Qe.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Qe.alwaysValidSchema)(o,r)){let E=(0,ne._)`${d} >= ${l}`;f!==void 0&&(E=(0,ne._)`${E} && ${d} <= ${f}`),e.pass(E);return}o.items=!0;const m=t.name("valid");f===void 0&&l===1?S(m,()=>t.if(m,()=>t.break())):l===0?(t.let(m,!0),f!==void 0&&t.if((0,ne._)`${a}.length > 0`,k)):(t.let(m,!1),k()),e.result(m,()=>e.reset());function k(){const E=t.name("_valid"),$=t.let("count",0);S(E,()=>t.if(E,()=>w($)))}function S(E,$){t.forRange("i",0,d,c=>{e.subschema({keyword:"contains",dataProp:c,dataPropType:Qe.Type.Num,compositeRule:!0},E),$()})}function w(E){t.code((0,ne._)`${E}++`),f===void 0?t.if((0,ne._)`${E} >= ${l}`,()=>t.assign(m,!0).break()):(t.if((0,ne._)`${E} > ${f}`,()=>t.assign(m,!1).break()),l===1?t.assign(m,!0):t.if((0,ne._)`${E} >= ${l}`,()=>t.assign(m,!0)))}}};var wl=Nr.default=gl;const bl=I({__proto__:null,default:wl},[Nr]),El=C(bl);var kr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=K,r=U,n=ce;e.error={message:({params:{property:h,depsCount:u,deps:d}})=>{const m=u===1?"property":"properties";return(0,t.str)`must have ${m} ${d} when property ${h} is present`},params:({params:{property:h,depsCount:u,deps:d,missingProperty:m}})=>(0,t._)`{property: ${h},
    missingProperty: ${m},
    depsCount: ${u},
    deps: ${d}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(h){const[u,d]=o(h);l(h,u),f(h,d)}};function o({schema:h}){const u={},d={};for(const m in h){if(m==="__proto__")continue;const k=Array.isArray(h[m])?u:d;k[m]=h[m]}return[u,d]}function l(h,u=h.schema){const{gen:d,data:m,it:k}=h;if(Object.keys(u).length===0)return;const S=d.let("missing");for(const w in u){const E=u[w];if(E.length===0)continue;const $=(0,n.propertyInData)(d,m,w,k.opts.ownProperties);h.setParams({property:w,depsCount:E.length,deps:E.join(", ")}),k.allErrors?d.if($,()=>{for(const c of E)(0,n.checkReportMissingProp)(h,c)}):(d.if((0,t._)`${$} && (${(0,n.checkMissingProp)(h,E,S)})`),(0,n.reportMissingProp)(h,S),d.else())}}e.validatePropertyDeps=l;function f(h,u=h.schema){const{gen:d,data:m,keyword:k,it:S}=h,w=d.name("valid");for(const E in u)(0,r.alwaysValidSchema)(S,u[E])||(d.if((0,n.propertyInData)(d,m,E,S.opts.ownProperties),()=>{const $=h.subschema({keyword:k,schemaProp:E},w);h.mergeValidEvaluated($,w)},()=>d.var(w,!0)),h.ok(w))}e.validateSchemaDeps=f,e.default=a})(kr);const Pl=ue(kr),Sl=I({__proto__:null,default:Pl},[kr]),Nl=C(Sl);var Or={};Object.defineProperty(Or,"__esModule",{value:!0});const Ka=K,kl=U,Ol={message:"property name must be valid",params:({params:e})=>(0,Ka._)`{propertyName: ${e.propertyName}}`},jl={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ol,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,kl.alwaysValidSchema)(a,r))return;const o=t.name("valid");t.forIn("key",n,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},o),t.if((0,Ka.not)(o),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(o)}};var Tl=Or.default=jl;const Rl=I({__proto__:null,default:Tl},[Or]),Cl=C(Rl);var jr={};Object.defineProperty(jr,"__esModule",{value:!0});const Xe=ce,se=K,Il=ve,Ye=U,Ml={message:"must NOT have additional properties",params:({params:e})=>(0,se._)`{additionalProperty: ${e.additionalProperty}}`},Al={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ml,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:o,it:l}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:f,opts:h}=l;if(l.props=!0,h.removeAdditional!=="all"&&(0,Ye.alwaysValidSchema)(l,r))return;const u=(0,Xe.allSchemaProperties)(n.properties),d=(0,Xe.allSchemaProperties)(n.patternProperties);m(),e.ok((0,se._)`${o} === ${Il.default.errors}`);function m(){t.forIn("key",a,$=>{!u.length&&!d.length?w($):t.if(k($),()=>w($))})}function k($){let c;if(u.length>8){const v=(0,Ye.schemaRefOrVal)(l,n.properties,"properties");c=(0,Xe.isOwnProperty)(t,v,$)}else u.length?c=(0,se.or)(...u.map(v=>(0,se._)`${$} === ${v}`)):c=se.nil;return d.length&&(c=(0,se.or)(c,...d.map(v=>(0,se._)`${(0,Xe.usePattern)(e,v)}.test(${$})`))),(0,se.not)(c)}function S($){t.code((0,se._)`delete ${a}[${$}]`)}function w($){if(h.removeAdditional==="all"||h.removeAdditional&&r===!1){S($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),f||t.break();return}if(typeof r=="object"&&!(0,Ye.alwaysValidSchema)(l,r)){const c=t.name("valid");h.removeAdditional==="failing"?(E($,c,!1),t.if((0,se.not)(c),()=>{e.reset(),S($)})):(E($,c),f||t.if((0,se.not)(c),()=>t.break()))}}function E($,c,v){const g={keyword:"additionalProperties",dataProp:$,dataPropType:Ye.Type.Str};v===!1&&Object.assign(g,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(g,c)}}};var Dl=jr.default=Al;const ql=I({__proto__:null,default:Dl},[jr]),Fa=C(ql);var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});const Vl=ft,nn=ce,At=U,an=Fa,Kl={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&an.default.code(new Vl.KeywordCxt(o,an.default,"additionalProperties"));const l=(0,nn.allSchemaProperties)(r);for(const m of l)o.definedProperties.add(m);o.opts.unevaluated&&l.length&&o.props!==!0&&(o.props=At.mergeEvaluated.props(t,(0,At.toHash)(l),o.props));const f=l.filter(m=>!(0,At.alwaysValidSchema)(o,r[m]));if(f.length===0)return;const h=t.name("valid");for(const m of f)u(m)?d(m):(t.if((0,nn.propertyInData)(t,a,m,o.opts.ownProperties)),d(m),o.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(m),e.ok(h);function u(m){return o.opts.useDefaults&&!o.compositeRule&&r[m].default!==void 0}function d(m){e.subschema({keyword:"properties",schemaProp:m,dataProp:m},h)}}};var Fl=Tr.default=Kl;const Ul=I({__proto__:null,default:Fl},[Tr]),zl=C(Ul);var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});const sn=ce,Ze=K,on=U,cn=U,Ll={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:o}=e,{opts:l}=o,f=(0,sn.allSchemaProperties)(r),h=f.filter(E=>(0,on.alwaysValidSchema)(o,r[E]));if(f.length===0||h.length===f.length&&(!o.opts.unevaluated||o.props===!0))return;const u=l.strictSchema&&!l.allowMatchingProperties&&a.properties,d=t.name("valid");o.props!==!0&&!(o.props instanceof Ze.Name)&&(o.props=(0,cn.evaluatedPropsToName)(t,o.props));const{props:m}=o;k();function k(){for(const E of f)u&&S(E),o.allErrors?w(E):(t.var(d,!0),w(E),t.if(d))}function S(E){for(const $ in u)new RegExp(E).test($)&&(0,on.checkStrictMode)(o,`property ${$} matches pattern ${E} (use allowMatchingProperties)`)}function w(E){t.forIn("key",n,$=>{t.if((0,Ze._)`${(0,sn.usePattern)(e,E)}.test(${$})`,()=>{const c=h.includes(E);c||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:$,dataPropType:cn.Type.Str},d),o.opts.unevaluated&&m!==!0?t.assign((0,Ze._)`${m}[${$}]`,!0):!c&&!o.allErrors&&t.if((0,Ze.not)(d),()=>t.break())})})}}};var Gl=Rr.default=Ll;const Jl=I({__proto__:null,default:Gl},[Rr]),Hl=C(Jl);var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});const Bl=U,Wl={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,Bl.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};var Ql=Cr.default=Wl;const Xl=I({__proto__:null,default:Ql},[Cr]),Yl=C(Xl);var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});const Zl=ce,xl={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Zl.validateUnion,error:{message:"must match a schema in anyOf"}};var eu=Ir.default=xl;const tu=I({__proto__:null,default:eu},[Ir]),ru=C(tu);var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const rt=K,nu=U,au={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,rt._)`{passingSchemas: ${e.passing}}`},su={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:au,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const o=r,l=t.let("valid",!1),f=t.let("passing",null),h=t.name("_valid");e.setParams({passing:f}),t.block(u),e.result(l,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((d,m)=>{let k;(0,nu.alwaysValidSchema)(a,d)?t.var(h,!0):k=e.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},h),m>0&&t.if((0,rt._)`${h} && ${l}`).assign(l,!1).assign(f,(0,rt._)`[${f}, ${m}]`).else(),t.if(h,()=>{t.assign(l,!0),t.assign(f,m),k&&e.mergeEvaluated(k,rt.Name)})})}}};var ou=Mr.default=su;const iu=I({__proto__:null,default:ou},[Mr]),cu=C(iu);var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});const lu=U,uu={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((o,l)=>{if((0,lu.alwaysValidSchema)(n,o))return;const f=e.subschema({keyword:"allOf",schemaProp:l},a);e.ok(a),e.mergeEvaluated(f)})}};var du=Ar.default=uu;const fu=I({__proto__:null,default:du},[Ar]),hu=C(fu);var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});const ct=K,Ua=U,mu={message:({params:e})=>(0,ct.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ct._)`{failingKeyword: ${e.ifClause}}`},pu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:mu,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,Ua.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=ln(n,"then"),o=ln(n,"else");if(!a&&!o)return;const l=t.let("valid",!0),f=t.name("_valid");if(h(),e.reset(),a&&o){const d=t.let("ifClause");e.setParams({ifClause:d}),t.if(f,u("then",d),u("else",d))}else a?t.if(f,u("then")):t.if((0,ct.not)(f),u("else"));e.pass(l,()=>e.error(!0));function h(){const d=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);e.mergeEvaluated(d)}function u(d,m){return()=>{const k=e.subschema({keyword:d},f);t.assign(l,f),e.mergeValidEvaluated(k,l),m?t.assign(m,(0,ct._)`${d}`):e.setParams({ifClause:d})}}}};function ln(e,t){const r=e.schema[t];return r!==void 0&&!(0,Ua.alwaysValidSchema)(e,r)}var $u=Dr.default=pu;const _u=I({__proto__:null,default:$u},[Dr]),yu=C(_u);var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const vu=U,gu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,vu.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};var wu=qr.default=gu;const bu=I({__proto__:null,default:wu},[qr]),Eu=C(bu);Object.defineProperty(Er,"__esModule",{value:!0});const Pu=Aa,Su=ul,Nu=Va,ku=yl,Ou=El,ju=Nl,Tu=Cl,Ru=Fa,Cu=zl,Iu=Hl,Mu=Yl,Au=ru,Du=cu,qu=hu,Vu=yu,Ku=Eu;function Fu(e=!1){const t=[Mu.default,Au.default,Du.default,qu.default,Vu.default,Ku.default,Tu.default,Ru.default,ju.default,Cu.default,Iu.default];return e?t.push(Su.default,ku.default):t.push(Pu.default,Nu.default),t.push(Ou.default),t}var Uu=Er.default=Fu;const zu=I({__proto__:null,default:Uu},[Er]),Lu=C(zu);var Vr={},Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const B=K,Gu={message:({schemaCode:e})=>(0,B.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,B._)`{format: ${e}}`},Ju={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Gu,code(e,t){const{gen:r,data:n,$data:a,schema:o,schemaCode:l,it:f}=e,{opts:h,errSchemaPath:u,schemaEnv:d,self:m}=f;if(!h.validateFormats)return;a?k():S();function k(){const w=r.scopeValue("formats",{ref:m.formats,code:h.code.formats}),E=r.const("fDef",(0,B._)`${w}[${l}]`),$=r.let("fType"),c=r.let("format");r.if((0,B._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign($,(0,B._)`${E}.type || "string"`).assign(c,(0,B._)`${E}.validate`),()=>r.assign($,(0,B._)`"string"`).assign(c,E)),e.fail$data((0,B.or)(v(),g()));function v(){return h.strictSchema===!1?B.nil:(0,B._)`${l} && !${c}`}function g(){const N=d.$async?(0,B._)`(${E}.async ? await ${c}(${n}) : ${c}(${n}))`:(0,B._)`${c}(${n})`,T=(0,B._)`(typeof ${c} == "function" ? ${N} : ${c}.test(${n}))`;return(0,B._)`${c} && ${c} !== true && ${$} === ${t} && !${T}`}}function S(){const w=m.formats[o];if(!w){v();return}if(w===!0)return;const[E,$,c]=g(w);E===t&&e.pass(N());function v(){if(h.strictSchema===!1){m.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function g(T){const _=T instanceof RegExp?(0,B.regexpCode)(T):h.code.formats?(0,B._)`${h.code.formats}${(0,B.getProperty)(o)}`:void 0,b=r.scopeValue("formats",{key:o,ref:T,code:_});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,B._)`${b}.validate`]:["string",T,b]}function N(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!d.$async)throw new Error("async format in sync schema");return(0,B._)`await ${c}(${n})`}return typeof $=="function"?(0,B._)`${c}(${n})`:(0,B._)`${c}.test(${n})`}}}};var Hu=Kr.default=Ju;const Bu=I({__proto__:null,default:Hu},[Kr]),Wu=C(Bu);Object.defineProperty(Vr,"__esModule",{value:!0});const Qu=Wu,Xu=[Qu.default];var Yu=Vr.default=Xu;const Zu=I({__proto__:null,default:Yu},[Vr]),xu=C(Zu);var ke={};Object.defineProperty(ke,"__esModule",{value:!0});var za=ke.contentVocabulary=La=ke.metadataVocabulary=void 0,La=ke.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];za=ke.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];const ed=I({__proto__:null,get contentVocabulary(){return za},default:ke,get metadataVocabulary(){return La}},[ke]),td=C(ed);Object.defineProperty(or,"__esModule",{value:!0});const rd=Ni,nd=Yc,ad=Lu,sd=xu,un=td,od=[rd.default,nd.default,(0,ad.default)(),sd.default,un.metadataVocabulary,un.contentVocabulary];var id=or.default=od;const cd=I({__proto__:null,default:id},[or]),ld=C(cd);var Fr={},Ur={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(Ur);const ud=ue(Ur),dd=I({__proto__:null,default:ud},[Ur]),fd=C(dd);Object.defineProperty(Fr,"__esModule",{value:!0});const Re=K,Kt=fd,dn=ar,hd=U,md={message:({params:{discrError:e,tagName:t}})=>e===Kt.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Re._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},pd={keyword:"discriminator",type:"object",schemaType:"object",error:md,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:o}=e,{oneOf:l}=a;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=n.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),u=t.const("tag",(0,Re._)`${r}${(0,Re.getProperty)(f)}`);t.if((0,Re._)`typeof ${u} == "string"`,()=>d(),()=>e.error(!1,{discrError:Kt.DiscrError.Tag,tag:u,tagName:f})),e.ok(h);function d(){const S=k();t.if(!1);for(const w in S)t.elseIf((0,Re._)`${u} === ${w}`),t.assign(h,m(S[w]));t.else(),e.error(!1,{discrError:Kt.DiscrError.Mapping,tag:u,tagName:f}),t.endIf()}function m(S){const w=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:S},w);return e.mergeEvaluated(E,Re.Name),w}function k(){var S;const w={},E=c(a);let $=!0;for(let N=0;N<l.length;N++){let T=l[N];T?.$ref&&!(0,hd.schemaHasRulesButRef)(T,o.self.RULES)&&(T=dn.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,T?.$ref),T instanceof dn.SchemaEnv&&(T=T.schema));const _=(S=T?.properties)===null||S===void 0?void 0:S[f];if(typeof _!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);$=$&&(E||c(T)),v(_,N)}if(!$)throw new Error(`discriminator: "${f}" must be required`);return w;function c({required:N}){return Array.isArray(N)&&N.includes(f)}function v(N,T){if(N.const)g(N.const,T);else if(N.enum)for(const _ of N.enum)g(_,T);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function g(N,T){if(typeof N!="string"||N in w)throw new Error(`discriminator: "${f}" values must be unique strings`);w[N]=T}}}};var $d=Fr.default=pd;const _d=I({__proto__:null,default:$d},[Fr]),yd=C(_d),vd="http://json-schema.org/draft-07/schema#",gd="http://json-schema.org/draft-07/schema#",wd="Core schema meta-schema",bd={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ed=["object","boolean"],Pd={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Sd={$schema:vd,$id:gd,title:wd,definitions:bd,type:Ed,properties:Pd,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=di,n=ld,a=yd,o=Sd,l=["/properties"],f="http://json-schema.org/draft-07/schema";class h extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const w=this.opts.$data?this.$dataMetaSchema(o,l):o;this.addMetaSchema(w,f,!1),this.refs["http://json-schema.org/schema"]=f}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}e.exports=t=h,Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var u=ft;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=K;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var m=er;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var k=rr;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(Gr,Gr.exports);
